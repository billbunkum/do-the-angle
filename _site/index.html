<!DOCTYPE html>
<html ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>Do-the-Angle To Do List</title>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- font awesome styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <!-- awesome fonts -->
    <script src="https://use.fontawesome.com/a04d9e4c1c.js"></script>
    <!-- my styles -->
    <link rel="stylesheet" href="styles.css">
    <!-- jquery -->
    <script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <!-- ramda -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/ramda/0.22.1/ramda.min.js"></script>
    <!-- my javascript for site -->
    <script src="app.js"></script>

</head>

<body ng-cloak 
    ng-controller="MainCtrl as bomb">

    <header>
        <nav class="navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <span class="navbar-brand">
                        TO - Angular - DO
                    </span>
                </div>

                    <ul class="nav navbar-nav">
                        <li><a href="#"><< Current >> List</a>
                            </li>
                        <li><a href="#">All Lists</a>
                            </li>
                        <li><a href="#" ng-click="bomb.markAllComplete()">All Complete / Incomplete</a>
                            </li>
                    </ul>

            </div>
        </nav>
    </header>

    <div class="container">
        <div class="content">

                    <button ng-click="bomb.listByKey('name')">Order by Alpha
                        </button>
                    <button ng-click="bomb.listByKey('date')">Order by Date
                        </button>
      <!--              <button ng-click="bomb.listByKey('complete')">Order by Completion
                        </button>
        -->

    <!-- showing old tasks -->
                <table class="table table-striped table-bordered">
                    <thead>
                        </thead>

                        <div class="form-group">
                            <tbody ng-repeat="errand in bomb.tasks track by $index">
                                <tr>
                                <!-- check mark if bomb.complete_check is true-->
                                    <td> 
                                        <i ng-show="errand.done" 
                                        class="fa fa-check" 
                                        aria-hidden="true"></i>
                                    </td>

                                    <td>{{ errand.name }}
                                        </td>

                                    <td>{{ errand.date | date: 'MM-dd-yyyy @ h:mm:ssa' }}
                                        </td>
                                <!-- complete button toggle -->
                                    <td ng-show="!errand.mark_button">
                                        <button ng-click="bomb.toggleComplete(errand)" 
                                            class="btn btn-info">Mark Complete</button>
                                        </td>
                                    <td ng-show="errand.mark_button">
                                        <button ng-click="bomb.toggleComplete(errand)" 
                                            class="btn btn-info">Reset Task</button>
                                        </td>
                                <!-- the clickable 'X' -->
                                    <td>
                                        <i class="fa fa-times-circle fa-2x" 
                                        ng-click="bomb.removeTask($index)" 
                                        aria-hidden="true"></i>
                                        </td>
                                </tr>
                            </tbody>
                        </div>
                </table>

                            <!-- adding new tasks -->
                    <div class="form-group">
                        <label for="new_task">Add a Task
                            </label>
                        <input class="form-control" 
                            ng-model="bomb.user_input.name" 
                            type="text" 
                            id="new_task" 
                            placeholder="&nbsp;Type new errand here">
                    </div>
                    <button type="submit" 
                        ng-click="bomb.addTask()" 
                        class="btn btn-info">New Task</button>


        </div> <!-- END content block -->
    </div> <!-- END container -->

    <footer>
    <hr>
        <div class="container">
            <div class="copyright">&copy;2016 Bill Bunkum - Do the Angle</div>
        </div>
    </footer>
</body>
</html>